{% extends "baselayui.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}登入停水信息{% endblock %}

{% block page_content %}
<div class="layui-container layui-bg-blue">  
    <div class="layui-row">

      <div class="layui-col-md4">
<form id="login" class="layui-form" action method="POST">
    <div class="layui-form-item">
      <label class="layui-form-label">开始时间</label>
      <div class="layui-input-block">
        <input type="text" name="startdate" id="startdate" required  lay-verify="required" placeholder="开始日期" autocomplete="off" class="layui-input">
      </div>
        <label class="layui-form-label">结束时间</label>
        <div class="layui-input-block">
          <input type="text" name="enddate" id="enddate" required  lay-verify="required" placeholder="结束日期" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">抢修地址</label>
        <div class="layui-input-block">
          <input type="text" name="address" id="address" required  lay-verify="required" placeholder="抢修地址" autocomplete="off" class="layui-input">
        </div>
        <label class="layui-form-label">影响区域</label>
        <div class="layui-input-block">
          <input type="text" name="area" id="area" required  lay-verify="required" placeholder="影响区域" autocomplete="off" class="layui-input">
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">选择框</label>
            <div class="layui-input-block">
              <select name="type_id" id="type_id" lay-verify="required">
                <option value=""></option>
                <option value="1">抢修停水</option>
                <option value="2">计划停水</option>
              </select>
            </div>
          </div>
    </div>
  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn" lay-submit lay-filter="formDemo">立即登陆</button>
    </div>
  </div>
</form>
</div>
<div class="layui-col-md8">
    <table id="tingshui" lay-filter="test"></table>
</div>
    </div>
    </div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
// 渲染日期时间选择期
layui.use('laydate', function(){
    var laydate = layui.laydate;
    
    //执行一个laydate实例
    laydate.render({
      elem: '#startdate',
      type: 'datetime' //指定元素
    });
    laydate.render({
        elem: '#enddate',
        type: 'datetime'
    })
  });
  layui.use('form', function(){
      var form = layui.form;
      
      //监听提交
      form.on('submit(formDemo)', function(data){
      $('#login').submit();
       // $.post('auth/login',data.field);
      });
    });
    
 
//执行渲染表格
layui.use('table',function(){
  var table = layui.table;
  
table.render({
  elem: '#tingshui' //指定原始表格元素选择器（推荐id选择器）
  ,height: 400 //容器高度
  ,url: '/tblJSON'
  ,page: true
  ,cols: [[{
    field: 'id',title: 'ID'}
    ,{field: 'startdate', title: '开始日期'}
    ,{field: 'enddate', title: '结束日期'}
    ,{field: 'address', title: '地址'}
    ,{field: 'area', title: '范围'}
    ,{field: 'typename', title:'类型'
  }]] //设置表头
  //,…… //更多参数参考右侧目录：基本参数选项
});
})
</script>
{% endblock %}
